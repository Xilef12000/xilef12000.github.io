
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Xilef12000 | WS2821 over Artnet</title>
<meta charset="utf-8" name="description" content="Xilef12000 WS2821 over Artnet">
<link rel="icon" sizes="any" type="image/svg+xml" href="/assets/favicon_dark.svg" id="icon"/>
<link rel="stylesheet" href="/style-sheets/style.css">
    
</head>
    
<body>
<header>
    <img class="line" src="/assets/line.svg">
		<a class="aH" href="/">
			<h1 class="Xilef12000 aH">Xilef12000</h1>
		</a>
		<a class="gallery-title aH" href="/">Home</a>
		<a class="gallery-title aH" href="/projects">Projects</a>
		<a class="gallery-title aH" href="/gallery">Gallery</a>
		<img class="line" src="/assets/line.svg">
</header>
    
<div class="content-wrapper">
        <h2>WS2821 over Artnet</h2>
<p>See <a href="https://github.com/Xilef12000/ws2812-over-artnet">https://github.com/Xilef12000/ws2812-over-artnet</a></p>
<h2>ws2812 over artnet with a raspberrypi</h2>
<p><strong>Note: The Documentation is unfinished and still in work.</strong></p>
<h2>Setup:</h2>
<ol>
<li>Flash your SD-Card for the Raspberry-pi.<br />
    I recommend using the <a href="https://www.raspberrypi.com/software/">Raspberry Pi Imager</a>.<br />
    You can use the Raspberrypy pi os lite, because there is no need for a gui.<br />
    I used the Version "Raspberry Pi OS Lite (32-bit) Debian Bullseye"<br />
    By pressing Crtl + Shift + X you get a options menu, in which you can set the host-name and enable ssh.<br />
    (of course you can also use balena etcher, and create a ssh-file)</li>
<li>
<p>Connect the ws2812-Strip to the raspberry pi.<br />
    This is a very simple way to connect the ws2821-Strip:  <br />
<img alt="image" src="wiring_diagramm_bb.png" /></p>
<p>| ws2821-LED-Strip | Raspberry-pi               |
|------------------|----------------------------|
| GND              | GND (e.g. pin14)           |
| Din              | GPIO 18 (pwm) (i.e. pin12) |
| 5V               | +3,3 V (e.g. pin1)         |</p>
<p>But this method may not work for long strips, for other connection methods see <a href="https://learn.adafruit.com/neopixels-on-raspberry-pi/raspberry-pi-wiring">this article</a> by Tony DiCola from Adafruit.<br />
2. This is an optional step to improve the communication with the ws2812 LED-Strip<br />
(This step is not necessary, and can also be done later)<br />
1. open the file:<br />
<code>bash
    sudo nano /etc/modprobe.d/snd-blacklist.conf</code>
2. and add:<br />
<code>blacklist snd_bcm2835</code>
    save and exit with Ctrl + O and Enter, and the Ctrl + X<br />
3. open the next file:<br />
<code>bash
    sudo nano /boot/config.txt</code>
4. and change:<br />
<code># Enable audio (loads snd_bcm2835)
    dtparam=audio=on</code>
    to:<br />
<code># Enable audio (loads snd_bcm2835)
    #dtparam=audio=on</code>
    save and exit with Ctrl + O and Enter, and the Ctrl + X<br />
5. reboot the Raspberry pi using:<br />
<code>bash
    sudo reboot</code></p>
</li>
<li>
<p>Installing ws-2812-over-artnet<br />
    download the script:<br />
<code>bash
    wget https://xilef12000.github.io/demo/ws2812-over-artnet/installws2812-over-artnet.sh</code>
    make the file executable and run it with sudo privileges:<br />
<code>bash
    chmod u+x installws2812-over-artnet.sh
    sudo ./installws2812-over-artnet.sh</code>
    (for a manual installation go <a href="#manual-installation">here</a>)  </p>
</li>
<li>
<p>Change the settings:<br />
    open the config.json file:<br />
<code>bash
    sudo nano config.json</code>
    and set the desired Artnet Universe Id (artnet starts counting from 0)<br />
    As well as the number of pixels used.  </p>
</li>
<li>
<p>Test the ws2812-Strip:
    <code>bash
    sudo python3 ws2812.py</code>
    (It is important to run the script with Root-privileges, so that it can access the pwm-function)<br />
    The first LED should light up in red, and the last one in blue, all in between should light up in green.  </p>
<p>Debug:<br />
- If no LEDs lights up, but there is no error message in the shell, check the wiring<br />
- If the LEDs do not light up in the correct colour, but there is no error message in the shell, check the number of LEDs set in step 6 and/or do step 2.<br />
- If you get an error message check the sudo privileges, the number of LEDs set in step 6, and/or do step 2.  </p>
</li>
<li>
<p>Check the Artnet-Network:</p>
<ol>
<li>Setup your DMX software.<br />
    (I used QLC+, for a tutorial how to set up QLC+ go <a href="#qlc-artnet-setup">here</a>)<br />
    If you need the IP-Address of the Raspberry pi use:
    <code>bash
    hostname -I</code></li>
<li>
<p>start the Artnet-test-script:
    <code>bash
    sudo python3 artnet.py</code>
    (Sudo must be used, because the library is installed in the Root-directory, to later function in combination with the ws2812-module)  </p>
</li>
<li>
<p>stop the script, by pressing any key  </p>
</li>
</ol>
</li>
<li>
<p>Test the ws2818 over Artnet script:<br />
    ```bash
    sudo python3 ws2812Artnet.py</p>
<p>```
stop it with Ctrl + C (the script will then crash with an error message, which can be ignored)  </p>
</li>
<li>
<p>Setup the auto-startup of the script:<br />
    will follow  </p>
</li>
<li>
<p>Setup a shutdown button:<br />
    will follow  </p>
</li>
</ol>
<h2>Additional Stuff:</h2>
<h3>QLC+ Artnet Setup:</h3>
<p>will follow  </p>
<h3>manual installation:</h3>
<ol>
<li>Update apt-get and install python3 and pip3:<br />
<code>bash
    sudo apt-get update
    sudo apt-get install python3
    sudo apt-get install python3-pip</code>
    confirm if necessary with y (yes)  </li>
<li>Install the following python modules:<br />
<code>bash
    sudo pip3 install rpi_ws281x adafruit-circuitpython-neopixel
    sudo python3 -m pip install --force-reinstall adafruit-blinka
    sudo pip3 install stupidArtnet</code>
    (And Yes, the libraries need to be installed in the Root-directory, more on that later)  </li>
<li>Copy the python files from the repo on your pi.  </li>
</ol>
</div>
        
<footer>
    <img class="line" src="/assets/line.svg">
		<a class="gallery-title aH" href="/">Home</a>
		<a class="gallery-title aH" href="/about">About</a>
		<a class="gallery-title aH" href="https://github.com/Xilef12000/xilef12000.github.io">git-repo</a>
</footer>
</body>
</html>
    